<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="992px" preserveAspectRatio="none" style="width:4709px;height:992px;" version="1.1" viewBox="0 0 4709 992" width="4709px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="fx1xlb9i11cmk" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <!--MD5=[e87e632f9e56300245bbeebdaaa83f70]
cluster conf-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="1941,99,1981,99,1988,121.2969,2404,121.2969,2404,195,1941,195,1941,99" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="1941" x2="1988" y1="121.2969" y2="121.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="34" x="1945" y="113.9951">conf</text>
    <!--MD5=[3a99a4dbfc0dec0b14f698d556913447]
cluster content-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="1950,463,2018,463,2025,485.2969,2806,485.2969,2806,661,1950,661,1950,463" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="1950" x2="2025" y1="485.2969" y2="485.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="62" x="1954" y="477.9951">content</text>
    <!--MD5=[f9f5e47277aa1cf362235c24d633d021]
cluster sync-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="2425,105.5,2466,105.5,2473,127.7969,2531,127.7969,2531,188.5,2425,188.5,2425,105.5" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="2425" x2="2473" y1="127.7969" y2="127.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="35" x="2429" y="120.4951">sync</text>
    <!--MD5=[9b2039c9cbc9b36eebe6e360cb295121]
cluster helpers-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="2814,105.5,2880,105.5,2887,127.7969,3169,127.7969,3169,603.5,2814,603.5,2814,105.5" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="2814" x2="2887" y1="127.7969" y2="127.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="2818" y="120.4951">helpers</text>
    <!--MD5=[a70b0d373322012744ecc119c63f921b]
cluster main-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="3177,520.5,3222,520.5,3229,542.7969,3279,542.7969,3279,603.5,3177,603.5,3177,520.5" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="3177" x2="3229" y1="542.7969" y2="542.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39" x="3181" y="535.4951">main</text>
    <!--MD5=[4ef80439e1ef409f8f3a0ec422262701]
cluster server-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="14,35,71,35,78,57.2969,1931,57.2969,1931,980,14,980,14,35" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="78" y1="57.2969" y2="57.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="18" y="49.9951">server</text>
    <!--MD5=[03c2ecdfa11f70b38eb496afaf3adc6b]
cluster services-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="3279,86.5,3350,86.5,3357,108.7969,3509,108.7969,3509,207.5,3279,207.5,3279,86.5" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="3279" x2="3357" y1="108.7969" y2="108.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="65" x="3283" y="101.4951">services</text>
    <!--MD5=[67cd15ce44b6dd54f77054b62c31bf42]
cluster types-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="3527,16,3577,16,3584,38.2969,4687,38.2969,4687,603.5,3527,603.5,3527,16" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="3527" x2="3584" y1="38.2969" y2="38.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="3531" y="30.9951">types</text>
    <!--MD5=[857233cdc7018b1e8695fe78ce49561f]
cluster __builtin__-->
    <polygon fill="#FFFFFF" filter="url(#fx1xlb9i11cmk)" points="3194,105.5,3252,105.5,3259,127.7969,3262,127.7969,3262,188.5,3194,188.5,3194,105.5" style="stroke: #000000; stroke-width: 1.5;"/>
    <line style="stroke: #000000; stroke-width: 1.5;" x1="3194" x2="3259" y1="127.7969" y2="127.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="52" x="3198" y="120.4951">builtin</text>
    <!--MD5=[bbc90147e425364a5d0ca6a8a7fd2622]
class conf.MetricsConfiguration-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="conf.MetricsConfiguration" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="2240" y="126"/>
    <ellipse cx="2255" cy="142" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2254.2344,142.5625 Q2252.375,141.8594 2251.7266,141.0859 Q2251.0781,140.3125 2251.0781,139 Q2251.0781,137.3125 2252.1563,136.3438 Q2253.2344,135.375 2255.1094,135.375 Q2255.9688,135.375 2256.8203,135.5703 Q2257.6719,135.7656 2258.5156,136.1563 L2258.5156,138.5469 Q2257.7344,137.9844 2256.9141,137.6953 Q2256.0938,137.4063 2255.2969,137.4063 Q2254.4219,137.4063 2253.9453,137.7656 Q2253.4688,138.125 2253.4688,138.7813 Q2253.4688,139.2969 2253.8125,139.6328 Q2254.1563,139.9688 2255.25,140.375 L2256.3125,140.7813 Q2257.7969,141.3281 2258.5078,142.2344 Q2259.2188,143.1406 2259.2188,144.5156 Q2259.2188,146.3906 2258.1094,147.3125 Q2257,148.2344 2254.75,148.2344 Q2253.8281,148.2344 2252.9063,148.0156 Q2251.9844,147.7969 2251.125,147.375 L2251.125,144.8438 Q2252.0938,145.5313 2253.0156,145.875 Q2253.9375,146.2188 2254.8281,146.2188 Q2255.7344,146.2188 2256.2344,145.8047 Q2256.7344,145.3906 2256.7344,144.6563 Q2256.7344,144.0938 2256.3984,143.6797 Q2256.0625,143.2656 2255.4375,143.0156 L2254.2344,142.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="2269" y="146.1543">MetricsConfiguration</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2241" x2="2395" y1="158" y2="158"/>
    <ellipse cx="2251" cy="169" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="102" x="2260" y="172.2104">Namespace string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2241" x2="2395" y1="178.8047" y2="178.8047"/>
    <!--MD5=[1cfe8d74c12f10954b5239b558cd6986]
class conf.SetupConfiguration-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="conf.SetupConfiguration" style="stroke: #A80036; stroke-width: 1.5;" width="256" x="1949" y="126"/>
    <ellipse cx="2014.25" cy="142" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2013.4844,142.5625 Q2011.625,141.8594 2010.9766,141.0859 Q2010.3281,140.3125 2010.3281,139 Q2010.3281,137.3125 2011.4063,136.3438 Q2012.4844,135.375 2014.3594,135.375 Q2015.2188,135.375 2016.0703,135.5703 Q2016.9219,135.7656 2017.7656,136.1563 L2017.7656,138.5469 Q2016.9844,137.9844 2016.1641,137.6953 Q2015.3438,137.4063 2014.5469,137.4063 Q2013.6719,137.4063 2013.1953,137.7656 Q2012.7188,138.125 2012.7188,138.7813 Q2012.7188,139.2969 2013.0625,139.6328 Q2013.4063,139.9688 2014.5,140.375 L2015.5625,140.7813 Q2017.0469,141.3281 2017.7578,142.2344 Q2018.4688,143.1406 2018.4688,144.5156 Q2018.4688,146.3906 2017.3594,147.3125 Q2016.25,148.2344 2014,148.2344 Q2013.0781,148.2344 2012.1563,148.0156 Q2011.2344,147.7969 2010.375,147.375 L2010.375,144.8438 Q2011.3438,145.5313 2012.2656,145.875 Q2013.1875,146.2188 2014.0781,146.2188 Q2014.9844,146.2188 2015.4844,145.8047 Q2015.9844,145.3906 2015.9844,144.6563 Q2015.9844,144.0938 2015.6484,143.6797 Q2015.3125,143.2656 2014.6875,143.0156 L2013.4844,142.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="2034.75" y="146.1543">SetupConfiguration</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1950" x2="2204" y1="158" y2="158"/>
    <ellipse cx="1960" cy="169" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="230" x="1969" y="172.2104">InternalRulesOrganizationsCSVFile string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1950" x2="2204" y1="178.8047" y2="178.8047"/>
    <!--MD5=[6cbc7ead237f7eec7aa2aaf43f0269a8]
class content.RulesWithContentStorage-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="163.2422" id="content.RulesWithContentStorage" style="stroke: #A80036; stroke-width: 1.5;" width="639" x="2158.5" y="490"/>
    <ellipse cx="2396.25" cy="506" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2395.4844,506.5625 Q2393.625,505.8594 2392.9766,505.0859 Q2392.3281,504.3125 2392.3281,503 Q2392.3281,501.3125 2393.4063,500.3438 Q2394.4844,499.375 2396.3594,499.375 Q2397.2188,499.375 2398.0703,499.5703 Q2398.9219,499.7656 2399.7656,500.1563 L2399.7656,502.5469 Q2398.9844,501.9844 2398.1641,501.6953 Q2397.3438,501.4063 2396.5469,501.4063 Q2395.6719,501.4063 2395.1953,501.7656 Q2394.7188,502.125 2394.7188,502.7813 Q2394.7188,503.2969 2395.0625,503.6328 Q2395.4063,503.9688 2396.5,504.375 L2397.5625,504.7813 Q2399.0469,505.3281 2399.7578,506.2344 Q2400.4688,507.1406 2400.4688,508.5156 Q2400.4688,510.3906 2399.3594,511.3125 Q2398.25,512.2344 2396,512.2344 Q2395.0781,512.2344 2394.1563,512.0156 Q2393.2344,511.7969 2392.375,511.375 L2392.375,508.8438 Q2393.3438,509.5313 2394.2656,509.875 Q2395.1875,510.2188 2396.0781,510.2188 Q2396.9844,510.2188 2397.4844,509.8047 Q2397.9844,509.3906 2397.9844,508.6563 Q2397.9844,508.0938 2397.6484,507.6797 Q2397.3125,507.2656 2396.6875,507.0156 L2395.4844,506.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="155" x="2416.75" y="510.1543">RulesWithContentStorage</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2159.5" x2="2796.5" y1="522" y2="522"/>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2166.5" y="530"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="2178.5" y="536.2104">rulesWithContent</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="2279.5" y="536.2104">map</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="2304.5" y="536.2104">[ruleIDAndErrorKey]*types.RuleWithContent</text>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="2166.5" y="542.8047"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="28" x="2178.5" y="549.0151">rules</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="2210.5" y="549.0151">map</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="2235.5" y="549.0151">[types.RuleID]*content.RuleContent</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2159.5" x2="2796.5" y1="555.6094" y2="555.6094"/>
    <ellipse cx="2169.5" cy="566.6094" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="606" x="2178.5" y="569.8198">GetRuleWithErrorKeyContent(ruleID types.RuleID, errorKey types.ErrorKey) (*types.RuleWithContent, bool)</text>
    <ellipse cx="2169.5" cy="579.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="370" x="2178.5" y="582.6245">GetRuleContent(ruleID types.RuleID) (*content.RuleContent, bool)</text>
    <ellipse cx="2169.5" cy="592.2188" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="213" x="2178.5" y="595.4292">GetAllContent() []content.RuleContent</text>
    <ellipse cx="2169.5" cy="605.0234" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="613" x="2178.5" y="608.2339">SetRuleWithContent(ruleID types.RuleID, errorKey types.ErrorKey, ruleWithContent *types.RuleWithContent)</text>
    <ellipse cx="2169.5" cy="617.8281" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="352" x="2178.5" y="621.0386">SetRule(ruleID types.RuleID, ruleContent content.RuleContent)</text>
    <ellipse cx="2169.5" cy="630.6328" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="2178.5" y="633.8433">ResetContent()</text>
    <ellipse cx="2169.5" cy="643.4375" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="2178.5" y="646.6479">GetRuleIDs() []string</text>
    <!--MD5=[c36f9f509522a92b8efa11bc7a50b90e]
class content.ruleIDAndErrorKey-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="73.6094" id="content.ruleIDAndErrorKey" style="stroke: #A80036; stroke-width: 1.5;" width="165" x="1958.5" y="534.5"/>
    <ellipse cx="1982.95" cy="550.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1982.1844,551.0625 Q1980.325,550.3594 1979.6766,549.5859 Q1979.0281,548.8125 1979.0281,547.5 Q1979.0281,545.8125 1980.1063,544.8438 Q1981.1844,543.875 1983.0594,543.875 Q1983.9188,543.875 1984.7703,544.0703 Q1985.6219,544.2656 1986.4656,544.6563 L1986.4656,547.0469 Q1985.6844,546.4844 1984.8641,546.1953 Q1984.0438,545.9063 1983.2469,545.9063 Q1982.3719,545.9063 1981.8953,546.2656 Q1981.4188,546.625 1981.4188,547.2813 Q1981.4188,547.7969 1981.7625,548.1328 Q1982.1063,548.4688 1983.2,548.875 L1984.2625,549.2813 Q1985.7469,549.8281 1986.4578,550.7344 Q1987.1688,551.6406 1987.1688,553.0156 Q1987.1688,554.8906 1986.0594,555.8125 Q1984.95,556.7344 1982.7,556.7344 Q1981.7781,556.7344 1980.8563,556.5156 Q1979.9344,556.2969 1979.075,555.875 L1979.075,553.3438 Q1980.0438,554.0313 1980.9656,554.375 Q1981.8875,554.7188 1982.7781,554.7188 Q1983.6844,554.7188 1984.1844,554.3047 Q1984.6844,553.8906 1984.6844,553.1563 Q1984.6844,552.5938 1984.3484,552.1797 Q1984.0125,551.7656 1983.3875,551.5156 L1982.1844,551.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="112" x="1999.05" y="554.6543">ruleIDAndErrorKey</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1959.5" x2="2122.5" y1="566.5" y2="566.5"/>
    <ellipse cx="1969.5" cy="577.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="1978.5" y="580.7104">RuleID types.RuleID</text>
    <ellipse cx="1969.5" cy="590.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1978.5" y="593.5151">ErrorKey types.ErrorKey</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1959.5" x2="2122.5" y1="600.1094" y2="600.1094"/>
    <!--MD5=[34382681a0b56c09507f378284b1a66b]
class sync.RWMutex-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="sync.RWMutex" style="stroke: #A80036; stroke-width: 1.5;" width="89" x="2433.5" y="132.5"/>
    <ellipse cx="2448.5" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2451.4688,154.1406 Q2450.8906,154.4375 2450.25,154.5859 Q2449.6094,154.7344 2448.9063,154.7344 Q2446.4063,154.7344 2445.0859,153.0859 Q2443.7656,151.4375 2443.7656,148.3125 Q2443.7656,145.1875 2445.0859,143.5313 Q2446.4063,141.875 2448.9063,141.875 Q2449.6094,141.875 2450.2578,142.0313 Q2450.9063,142.1875 2451.4688,142.4844 L2451.4688,145.2031 Q2450.8438,144.625 2450.25,144.3516 Q2449.6563,144.0781 2449.0313,144.0781 Q2447.6875,144.0781 2447,145.1484 Q2446.3125,146.2188 2446.3125,148.3125 Q2446.3125,150.4063 2447,151.4766 Q2447.6875,152.5469 2449.0313,152.5469 Q2449.6563,152.5469 2450.25,152.2734 Q2450.8438,152 2451.4688,151.4219 L2451.4688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="57" x="2462.5" y="152.6543">RWMutex</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2434.5" x2="2521.5" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2434.5" x2="2521.5" y1="172.5" y2="172.5"/>
    <!--MD5=[feac6c7250a0eca9a6b62391c7f57ec1]
class helpers.APIRequest-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="helpers.APIRequest" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="3037" y="547.5"/>
    <ellipse cx="3052" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3053.3438,570 L3050.8906,570 L3050.8906,559.75 L3047.75,559.75 L3047.75,557.6094 L3056.4844,557.6094 L3056.4844,559.75 L3053.3438,559.75 L3053.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="68" x="3066" y="567.6543">APIRequest</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3038" x2="3136" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3038" x2="3136" y1="587.5" y2="587.5"/>
    <!--MD5=[991eda6443dd0e7bb557e4bb57fc0fbb]
class helpers.APIResponse-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="helpers.APIResponse" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="2846" y="547.5"/>
    <ellipse cx="2861" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2862.3438,570 L2859.8906,570 L2859.8906,559.75 L2856.75,559.75 L2856.75,557.6094 L2865.4844,557.6094 L2865.4844,559.75 L2862.3438,559.75 L2862.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="2875" y="567.6543">APIResponse</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2847" x2="2953" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2847" x2="2953" y1="587.5" y2="587.5"/>
    <!--MD5=[e2694a62e8010cf056a2ed32f1dc83ba]
class helpers.helpersAPIRequest-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="helpers.helpersAPIRequest" style="stroke: #A80036; stroke-width: 1.5;" width="148" x="3013" y="132.5"/>
    <ellipse cx="3028" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3030.9688,154.1406 Q3030.3906,154.4375 3029.75,154.5859 Q3029.1094,154.7344 3028.4063,154.7344 Q3025.9063,154.7344 3024.5859,153.0859 Q3023.2656,151.4375 3023.2656,148.3125 Q3023.2656,145.1875 3024.5859,143.5313 Q3025.9063,141.875 3028.4063,141.875 Q3029.1094,141.875 3029.7578,142.0313 Q3030.4063,142.1875 3030.9688,142.4844 L3030.9688,145.2031 Q3030.3438,144.625 3029.75,144.3516 Q3029.1563,144.0781 3028.5313,144.0781 Q3027.1875,144.0781 3026.5,145.1484 Q3025.8125,146.2188 3025.8125,148.3125 Q3025.8125,150.4063 3026.5,151.4766 Q3027.1875,152.5469 3028.5313,152.5469 Q3029.1563,152.5469 3029.75,152.2734 Q3030.3438,152 3030.9688,151.4219 L3030.9688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="116" x="3042" y="152.6543">helpers.APIRequest</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3014" x2="3160" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3014" x2="3160" y1="172.5" y2="172.5"/>
    <!--MD5=[9201c7abde4783de65e84580d30d85a4]
class helpers.helpersAPIResponse-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="helpers.helpersAPIResponse" style="stroke: #A80036; stroke-width: 1.5;" width="156" x="2822" y="132.5"/>
    <ellipse cx="2837" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M2839.9688,154.1406 Q2839.3906,154.4375 2838.75,154.5859 Q2838.1094,154.7344 2837.4063,154.7344 Q2834.9063,154.7344 2833.5859,153.0859 Q2832.2656,151.4375 2832.2656,148.3125 Q2832.2656,145.1875 2833.5859,143.5313 Q2834.9063,141.875 2837.4063,141.875 Q2838.1094,141.875 2838.7578,142.0313 Q2839.4063,142.1875 2839.9688,142.4844 L2839.9688,145.2031 Q2839.3438,144.625 2838.75,144.3516 Q2838.1563,144.0781 2837.5313,144.0781 Q2836.1875,144.0781 2835.5,145.1484 Q2834.8125,146.2188 2834.8125,148.3125 Q2834.8125,150.4063 2835.5,151.4766 Q2836.1875,152.5469 2837.5313,152.5469 Q2838.1563,152.5469 2838.75,152.2734 Q2839.3438,152 2839.9688,151.4219 L2839.9688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="2851" y="152.6543">helpers.APIResponse</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2823" x2="2977" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="2823" x2="2977" y1="172.5" y2="172.5"/>
    <!--MD5=[f51cd1da0eef207a887777d33e615e46]
class main.ExitCode-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="main.ExitCode" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="3185.5" y="547.5"/>
    <ellipse cx="3200.5" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3201.8438,570 L3199.3906,570 L3199.3906,559.75 L3196.25,559.75 L3196.25,557.6094 L3204.9844,557.6094 L3204.9844,559.75 L3201.8438,559.75 L3201.8438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="3214.5" y="567.6543">ExitCode</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3186.5" x2="3269.5" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3186.5" x2="3269.5" y1="587.5" y2="587.5"/>
    <!--MD5=[bcd2a97832e82ba059aa2e8f4fddba74]
class server.AggregatorServiceUnavailableError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="server.AggregatorServiceUnavailableError" style="stroke: #A80036; stroke-width: 1.5;" width="243" x="714.5" y="126"/>
    <ellipse cx="729.5" cy="142" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M728.7344,142.5625 Q726.875,141.8594 726.2266,141.0859 Q725.5781,140.3125 725.5781,139 Q725.5781,137.3125 726.6563,136.3438 Q727.7344,135.375 729.6094,135.375 Q730.4688,135.375 731.3203,135.5703 Q732.1719,135.7656 733.0156,136.1563 L733.0156,138.5469 Q732.2344,137.9844 731.4141,137.6953 Q730.5938,137.4063 729.7969,137.4063 Q728.9219,137.4063 728.4453,137.7656 Q727.9688,138.125 727.9688,138.7813 Q727.9688,139.2969 728.3125,139.6328 Q728.6563,139.9688 729.75,140.375 L730.8125,140.7813 Q732.2969,141.3281 733.0078,142.2344 Q733.7188,143.1406 733.7188,144.5156 Q733.7188,146.3906 732.6094,147.3125 Q731.5,148.2344 729.25,148.2344 Q728.3281,148.2344 727.4063,148.0156 Q726.4844,147.7969 725.625,147.375 L725.625,144.8438 Q726.5938,145.5313 727.5156,145.875 Q728.4375,146.2188 729.3281,146.2188 Q730.2344,146.2188 730.7344,145.8047 Q731.2344,145.3906 731.2344,144.6563 Q731.2344,144.0938 730.8984,143.6797 Q730.5625,143.2656 729.9375,143.0156 L728.7344,142.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="211" x="743.5" y="146.1543">AggregatorServiceUnavailableError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="715.5" x2="956.5" y1="158" y2="158"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="715.5" x2="956.5" y1="166" y2="166"/>
    <ellipse cx="725.5" cy="177" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="734.5" y="180.2104">Error() string</text>
    <!--MD5=[b03157b2842d89d1a54daa49eec9917a]
class server.AuthenticationError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="73.6094" id="server.AuthenticationError" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="992.5" y="119.5"/>
    <ellipse cx="1007.5" cy="135.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1006.7344,136.0625 Q1004.875,135.3594 1004.2266,134.5859 Q1003.5781,133.8125 1003.5781,132.5 Q1003.5781,130.8125 1004.6563,129.8438 Q1005.7344,128.875 1007.6094,128.875 Q1008.4688,128.875 1009.3203,129.0703 Q1010.1719,129.2656 1011.0156,129.6563 L1011.0156,132.0469 Q1010.2344,131.4844 1009.4141,131.1953 Q1008.5938,130.9063 1007.7969,130.9063 Q1006.9219,130.9063 1006.4453,131.2656 Q1005.9688,131.625 1005.9688,132.2813 Q1005.9688,132.7969 1006.3125,133.1328 Q1006.6563,133.4688 1007.75,133.875 L1008.8125,134.2813 Q1010.2969,134.8281 1011.0078,135.7344 Q1011.7188,136.6406 1011.7188,138.0156 Q1011.7188,139.8906 1010.6094,140.8125 Q1009.5,141.7344 1007.25,141.7344 Q1006.3281,141.7344 1005.4063,141.5156 Q1004.4844,141.2969 1003.625,140.875 L1003.625,138.3438 Q1004.5938,139.0313 1005.5156,139.375 Q1006.4375,139.7188 1007.3281,139.7188 Q1008.2344,139.7188 1008.7344,139.3047 Q1009.2344,138.8906 1009.2344,138.1563 Q1009.2344,137.5938 1008.8984,137.1797 Q1008.5625,136.7656 1007.9375,136.5156 L1006.7344,136.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="1021.5" y="139.6543">AuthenticationError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="993.5" x2="1142.5" y1="151.5" y2="151.5"/>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1000.5" y="159.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="1012.5" y="165.7104">errString string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="993.5" x2="1142.5" y1="172.3047" y2="172.3047"/>
    <ellipse cx="1003.5" cy="183.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1012.5" y="186.5151">Error() string</text>
    <!--MD5=[a98da712e15d3ca50b196e018dc2d440]
class server.Configuration-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="188.8516" id="server.Configuration" style="stroke: #A80036; stroke-width: 1.5;" width="257" x="1178.5" y="62"/>
    <ellipse cx="1262.25" cy="78" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1261.4844,78.5625 Q1259.625,77.8594 1258.9766,77.0859 Q1258.3281,76.3125 1258.3281,75 Q1258.3281,73.3125 1259.4063,72.3438 Q1260.4844,71.375 1262.3594,71.375 Q1263.2188,71.375 1264.0703,71.5703 Q1264.9219,71.7656 1265.7656,72.1563 L1265.7656,74.5469 Q1264.9844,73.9844 1264.1641,73.6953 Q1263.3438,73.4063 1262.5469,73.4063 Q1261.6719,73.4063 1261.1953,73.7656 Q1260.7188,74.125 1260.7188,74.7813 Q1260.7188,75.2969 1261.0625,75.6328 Q1261.4063,75.9688 1262.5,76.375 L1263.5625,76.7813 Q1265.0469,77.3281 1265.7578,78.2344 Q1266.4688,79.1406 1266.4688,80.5156 Q1266.4688,82.3906 1265.3594,83.3125 Q1264.25,84.2344 1262,84.2344 Q1261.0781,84.2344 1260.1563,84.0156 Q1259.2344,83.7969 1258.375,83.375 L1258.375,80.8438 Q1259.3438,81.5313 1260.2656,81.875 Q1261.1875,82.2188 1262.0781,82.2188 Q1262.9844,82.2188 1263.4844,81.8047 Q1263.9844,81.3906 1263.9844,80.6563 Q1263.9844,80.0938 1263.6484,79.6797 Q1263.3125,79.2656 1262.6875,79.0156 L1261.4844,78.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1282.75" y="82.1543">Configuration</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1434.5" y1="94" y2="94"/>
    <ellipse cx="1189.5" cy="105" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1198.5" y="108.2104">Address string</text>
    <ellipse cx="1189.5" cy="117.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="1198.5" y="121.0151">APIPrefix string</text>
    <ellipse cx="1189.5" cy="130.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="1198.5" y="133.8198">APISpecFile string</text>
    <ellipse cx="1189.5" cy="143.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="1198.5" y="146.6245">Debug bool</text>
    <ellipse cx="1189.5" cy="156.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="1198.5" y="159.4292">Auth bool</text>
    <ellipse cx="1189.5" cy="169.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1198.5" y="172.2339">AuthType string</text>
    <ellipse cx="1189.5" cy="181.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="1198.5" y="185.0386">UseHTTPS bool</text>
    <ellipse cx="1189.5" cy="194.6328" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="98" x="1198.5" y="197.8433">EnableCORS bool</text>
    <ellipse cx="1189.5" cy="207.4375" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1198.5" y="210.6479">EnableInternalRulesOrganizations bool</text>
    <ellipse cx="1189.5" cy="220.2422" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="231" x="1198.5" y="223.4526">InternalRulesOrganizations []types.OrgID</text>
    <ellipse cx="1189.5" cy="233.0469" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="1198.5" y="236.2573">LogAuthToken bool</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1179.5" x2="1434.5" y1="242.8516" y2="242.8516"/>
    <!--MD5=[635e76657bde9d599410bc619ed8be64]
class server.ContentServiceUnavailableError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="server.ContentServiceUnavailableError" style="stroke: #A80036; stroke-width: 1.5;" width="223" x="1470.5" y="126"/>
    <ellipse cx="1485.5" cy="142" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1484.7344,142.5625 Q1482.875,141.8594 1482.2266,141.0859 Q1481.5781,140.3125 1481.5781,139 Q1481.5781,137.3125 1482.6563,136.3438 Q1483.7344,135.375 1485.6094,135.375 Q1486.4688,135.375 1487.3203,135.5703 Q1488.1719,135.7656 1489.0156,136.1563 L1489.0156,138.5469 Q1488.2344,137.9844 1487.4141,137.6953 Q1486.5938,137.4063 1485.7969,137.4063 Q1484.9219,137.4063 1484.4453,137.7656 Q1483.9688,138.125 1483.9688,138.7813 Q1483.9688,139.2969 1484.3125,139.6328 Q1484.6563,139.9688 1485.75,140.375 L1486.8125,140.7813 Q1488.2969,141.3281 1489.0078,142.2344 Q1489.7188,143.1406 1489.7188,144.5156 Q1489.7188,146.3906 1488.6094,147.3125 Q1487.5,148.2344 1485.25,148.2344 Q1484.3281,148.2344 1483.4063,148.0156 Q1482.4844,147.7969 1481.625,147.375 L1481.625,144.8438 Q1482.5938,145.5313 1483.5156,145.875 Q1484.4375,146.2188 1485.3281,146.2188 Q1486.2344,146.2188 1486.7344,145.8047 Q1487.2344,145.3906 1487.2344,144.6563 Q1487.2344,144.0938 1486.8984,143.6797 Q1486.5625,143.2656 1485.9375,143.0156 L1484.7344,142.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="191" x="1499.5" y="146.1543">ContentServiceUnavailableError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1471.5" x2="1692.5" y1="158" y2="158"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1471.5" x2="1692.5" y1="166" y2="166"/>
    <ellipse cx="1481.5" cy="177" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1490.5" y="180.2104">Error() string</text>
    <!--MD5=[2156ddef2cf852b6f26baae7777359cd]
class server.HTTPServer-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="483.3594" id="server.HTTPServer" style="stroke: #A80036; stroke-width: 1.5;" width="960" x="356" y="330"/>
    <ellipse cx="797.25" cy="346" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M796.4844,346.5625 Q794.625,345.8594 793.9766,345.0859 Q793.3281,344.3125 793.3281,343 Q793.3281,341.3125 794.4063,340.3438 Q795.4844,339.375 797.3594,339.375 Q798.2188,339.375 799.0703,339.5703 Q799.9219,339.7656 800.7656,340.1563 L800.7656,342.5469 Q799.9844,341.9844 799.1641,341.6953 Q798.3438,341.4063 797.5469,341.4063 Q796.6719,341.4063 796.1953,341.7656 Q795.7188,342.125 795.7188,342.7813 Q795.7188,343.2969 796.0625,343.6328 Q796.4063,343.9688 797.5,344.375 L798.5625,344.7813 Q800.0469,345.3281 800.7578,346.2344 Q801.4688,347.1406 801.4688,348.5156 Q801.4688,350.3906 800.3594,351.3125 Q799.25,352.2344 797,352.2344 Q796.0781,352.2344 795.1563,352.0156 Q794.2344,351.7969 793.375,351.375 L793.375,348.8438 Q794.3438,349.5313 795.2656,349.875 Q796.1875,350.2188 797.0781,350.2188 Q797.9844,350.2188 798.4844,349.8047 Q798.9844,349.3906 798.9844,348.6563 Q798.9844,348.0938 798.6484,347.6797 Q798.3125,347.2656 797.6875,347.0156 L796.4844,346.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="817.75" y="350.1543">HTTPServer</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="357" x2="1315" y1="362" y2="362"/>
    <ellipse cx="367" cy="373" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="376" y="376.2104">Config Configuration</text>
    <ellipse cx="367" cy="385.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="215" x="376" y="389.0151">ServicesConfig services.Configuration</text>
    <ellipse cx="367" cy="398.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="87" x="376" y="401.8198">GroupsChannel</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="467" y="401.8198">chan</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="498" y="401.8198">[]groups.Group</text>
    <ellipse cx="367" cy="411.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="100" x="376" y="414.6245">Serv *http.Server</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="357" x2="1315" y1="421.2188" y2="421.2188"/>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="429.2188"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="376" y="435.4292">mainEndpoint(writer http.ResponseWriter, _ *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="442.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="478" x="376" y="448.2339">readUserID(request *http.Request, writer http.ResponseWriter) (types.UserID, error)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="454.8281"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="390" x="376" y="461.0386">serveAPISpecFile(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="467.6328"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="151" x="376" y="473.8433">redirectTo(baseURL string)</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="531" y="473.8433">func</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="555" y="473.8433">(http.ResponseWriter, *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="480.4375"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="275" x="376" y="486.6479">proxyTo(baseURL string, options *ProxyOptions)</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="655" y="486.6479">func</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="210" x="679" y="486.6479">(http.ResponseWriter, *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="493.2422"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="750" x="376" y="499.4526">sendRequest(client http.Client, req *http.Request, options *ProxyOptions, writer http.ResponseWriter) (*http.Response, []byte, bool)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="506.0469"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="450" x="376" y="512.2573">composeEndpoint(baseEndpoint string, currentEndpoint string) (*url.URL, error)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="518.8516"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="934" x="376" y="525.062">readAggregatorReportForClusterID(orgID types.OrgID, clusterID types.ClusterName, userID types.UserID, writer http.ResponseWriter) (*types.ReportResponse, bool)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="531.6563"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="602" x="376" y="537.8667">fetchAggregatorReport(writer http.ResponseWriter, request *http.Request) (*types.ReportResponse, bool)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="544.4609"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="378" x="376" y="550.6714">reportEndpoint(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="557.2656"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="766" x="376" y="563.4761">findRule(writer http.ResponseWriter, report []types.RuleOnReport, requestRuleID types.RuleID) (types.RuleWithContentResponse, bool)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="570.0703"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="401" x="376" y="576.2808">singleRuleEndpoint(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="582.875"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="334" x="376" y="589.0854">checkInternalRulePermissions(request *http.Request) error</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="595.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="501" x="376" y="601.8901">newExtractUserIDFromTokenToURLRequestModifier(newEndpoint string) RequestModifier</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="608.4844"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="427" x="376" y="614.6948">getAuthTokenHeader(w http.ResponseWriter, r *http.Request) (string, bool)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="621.2891"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="316" x="376" y="627.4995">getGroups(writer http.ResponseWriter, _ *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="634.0938"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="399" x="376" y="640.3042">getContentForRule(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="646.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="376" y="653.1089">getContent(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="659.7031"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="397" x="376" y="665.9136">getClustersForOrg(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="672.5078"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="354" x="376" y="678.7183">getRuleIDs(writer http.ResponseWriter, request *http.Request)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="685.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="284" x="376" y="691.5229">addDebugEndpointsToRouter(router *mux.Router)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="698.1172"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="248" x="376" y="704.3276">addEndpointsToRouter(router *mux.Router)</text>
    <rect fill="#F24D5C" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="364" y="710.9219"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="292" x="376" y="717.1323">addContentEndpointsToRouter(router *mux.Router)</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="380" y="729.937"/>
    <ellipse cx="367" cy="739.5313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="376" y="742.7417">Initialize() http.Handler</text>
    <ellipse cx="367" cy="752.3359" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="376" y="755.5464">Start() error</text>
    <ellipse cx="367" cy="765.1406" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="376" y="768.3511">Stop(ctx context.Context) error</text>
    <ellipse cx="367" cy="777.9453" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="382" x="376" y="781.1558">Authentication(next http.Handler, noAuthURLs []string) http.Handler</text>
    <ellipse cx="367" cy="790.75" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="354" x="376" y="793.9604">GetCurrentUserID(request *http.Request) (types.UserID, error)</text>
    <ellipse cx="367" cy="803.5547" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="345" x="376" y="806.7651">GetAuthToken(request *http.Request) (*types.Identity, error)</text>
    <!--MD5=[fc7a883f442378d09e8980c96c44779d]
class server.NoBodyError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="server.NoBodyError" style="stroke: #A80036; stroke-width: 1.5;" width="108" x="1351" y="541"/>
    <ellipse cx="1366" cy="557" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1365.2344,557.5625 Q1363.375,556.8594 1362.7266,556.0859 Q1362.0781,555.3125 1362.0781,554 Q1362.0781,552.3125 1363.1563,551.3438 Q1364.2344,550.375 1366.1094,550.375 Q1366.9688,550.375 1367.8203,550.5703 Q1368.6719,550.7656 1369.5156,551.1563 L1369.5156,553.5469 Q1368.7344,552.9844 1367.9141,552.6953 Q1367.0938,552.4063 1366.2969,552.4063 Q1365.4219,552.4063 1364.9453,552.7656 Q1364.4688,553.125 1364.4688,553.7813 Q1364.4688,554.2969 1364.8125,554.6328 Q1365.1563,554.9688 1366.25,555.375 L1367.3125,555.7813 Q1368.7969,556.3281 1369.5078,557.2344 Q1370.2188,558.1406 1370.2188,559.5156 Q1370.2188,561.3906 1369.1094,562.3125 Q1368,563.2344 1365.75,563.2344 Q1364.8281,563.2344 1363.9063,563.0156 Q1362.9844,562.7969 1362.125,562.375 L1362.125,559.8438 Q1363.0938,560.5313 1364.0156,560.875 Q1364.9375,561.2188 1365.8281,561.2188 Q1366.7344,561.2188 1367.2344,560.8047 Q1367.7344,560.3906 1367.7344,559.6563 Q1367.7344,559.0938 1367.3984,558.6797 Q1367.0625,558.2656 1366.4375,558.0156 L1365.2344,557.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="1380" y="561.1543">NoBodyError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1352" x2="1458" y1="573" y2="573"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1352" x2="1458" y1="581" y2="581"/>
    <ellipse cx="1362" cy="592" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1371" y="595.2104">Error() string</text>
    <!--MD5=[f469e3d4bd4b0f2aa0a4a7db41bbc257]
class server.ParamsParsingError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="60.8047" id="server.ParamsParsingError" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="1494" y="541"/>
    <ellipse cx="1509" cy="557" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1508.2344,557.5625 Q1506.375,556.8594 1505.7266,556.0859 Q1505.0781,555.3125 1505.0781,554 Q1505.0781,552.3125 1506.1563,551.3438 Q1507.2344,550.375 1509.1094,550.375 Q1509.9688,550.375 1510.8203,550.5703 Q1511.6719,550.7656 1512.5156,551.1563 L1512.5156,553.5469 Q1511.7344,552.9844 1510.9141,552.6953 Q1510.0938,552.4063 1509.2969,552.4063 Q1508.4219,552.4063 1507.9453,552.7656 Q1507.4688,553.125 1507.4688,553.7813 Q1507.4688,554.2969 1507.8125,554.6328 Q1508.1563,554.9688 1509.25,555.375 L1510.3125,555.7813 Q1511.7969,556.3281 1512.5078,557.2344 Q1513.2188,558.1406 1513.2188,559.5156 Q1513.2188,561.3906 1512.1094,562.3125 Q1511,563.2344 1508.75,563.2344 Q1507.8281,563.2344 1506.9063,563.0156 Q1505.9844,562.7969 1505.125,562.375 L1505.125,559.8438 Q1506.0938,560.5313 1507.0156,560.875 Q1507.9375,561.2188 1508.8281,561.2188 Q1509.7344,561.2188 1510.2344,560.8047 Q1510.7344,560.3906 1510.7344,559.6563 Q1510.7344,559.0938 1510.3984,558.6797 Q1510.0625,558.2656 1509.4375,558.0156 L1508.2344,557.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="1523" y="561.1543">ParamsParsingError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1495" x2="1643" y1="573" y2="573"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1495" x2="1643" y1="581" y2="581"/>
    <ellipse cx="1505" cy="592" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="1514" y="595.2104">Error() string</text>
    <!--MD5=[96e38aee9c464f4910b2c51e3868fc33]
class server.ProxyOptions-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="73.6094" id="server.ProxyOptions" style="stroke: #A80036; stroke-width: 1.5;" width="244" x="1679" y="534.5"/>
    <ellipse cx="1757.25" cy="550.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M1756.4844,551.0625 Q1754.625,550.3594 1753.9766,549.5859 Q1753.3281,548.8125 1753.3281,547.5 Q1753.3281,545.8125 1754.4063,544.8438 Q1755.4844,543.875 1757.3594,543.875 Q1758.2188,543.875 1759.0703,544.0703 Q1759.9219,544.2656 1760.7656,544.6563 L1760.7656,547.0469 Q1759.9844,546.4844 1759.1641,546.1953 Q1758.3438,545.9063 1757.5469,545.9063 Q1756.6719,545.9063 1756.1953,546.2656 Q1755.7188,546.625 1755.7188,547.2813 Q1755.7188,547.7969 1756.0625,548.1328 Q1756.4063,548.4688 1757.5,548.875 L1758.5625,549.2813 Q1760.0469,549.8281 1760.7578,550.7344 Q1761.4688,551.6406 1761.4688,553.0156 Q1761.4688,554.8906 1760.3594,555.8125 Q1759.25,556.7344 1757,556.7344 Q1756.0781,556.7344 1755.1563,556.5156 Q1754.2344,556.2969 1753.375,555.875 L1753.375,553.3438 Q1754.3438,554.0313 1755.2656,554.375 Q1756.1875,554.7188 1757.0781,554.7188 Q1757.9844,554.7188 1758.4844,554.3047 Q1758.9844,553.8906 1758.9844,553.1563 Q1758.9844,552.5938 1758.6484,552.1797 Q1758.3125,551.7656 1757.6875,551.5156 L1756.4844,551.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="1777.75" y="554.6543">ProxyOptions</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1680" x2="1922" y1="566.5" y2="566.5"/>
    <ellipse cx="1690" cy="577.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="1699" y="580.7104">RequestModifiers []RequestModifier</text>
    <ellipse cx="1690" cy="590.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="1699" y="593.5151">ResponseModifiers []ResponseModifier</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="1680" x2="1922" y1="600.1094" y2="600.1094"/>
    <!--MD5=[10487810fe613e2bc42939040fa6ecd9]
class server.RouterMissingParamError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="73.6094" id="server.RouterMissingParamError" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="744" y="885.5"/>
    <ellipse cx="759" cy="901.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M758.2344,902.0625 Q756.375,901.3594 755.7266,900.5859 Q755.0781,899.8125 755.0781,898.5 Q755.0781,896.8125 756.1563,895.8438 Q757.2344,894.875 759.1094,894.875 Q759.9688,894.875 760.8203,895.0703 Q761.6719,895.2656 762.5156,895.6563 L762.5156,898.0469 Q761.7344,897.4844 760.9141,897.1953 Q760.0938,896.9063 759.2969,896.9063 Q758.4219,896.9063 757.9453,897.2656 Q757.4688,897.625 757.4688,898.2813 Q757.4688,898.7969 757.8125,899.1328 Q758.1563,899.4688 759.25,899.875 L760.3125,900.2813 Q761.7969,900.8281 762.5078,901.7344 Q763.2188,902.6406 763.2188,904.0156 Q763.2188,905.8906 762.1094,906.8125 Q761,907.7344 758.75,907.7344 Q757.8281,907.7344 756.9063,907.5156 Q755.9844,907.2969 755.125,906.875 L755.125,904.3438 Q756.0938,905.0313 757.0156,905.375 Q757.9375,905.7188 758.8281,905.7188 Q759.7344,905.7188 760.2344,905.3047 Q760.7344,904.8906 760.7344,904.1563 Q760.7344,903.5938 760.3984,903.1797 Q760.0625,902.7656 759.4375,902.5156 L758.2344,902.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="152" x="773" y="905.6543">RouterMissingParamError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="745" x2="927" y1="917.5" y2="917.5"/>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="752" y="925.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="764" y="931.7104">paramName string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="745" x2="927" y1="938.3047" y2="938.3047"/>
    <ellipse cx="755" cy="949.3047" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="764" y="952.5151">Error() string</text>
    <!--MD5=[e6d142c912a12b92cfbc25b1aa76719d]
class server.RouterParsingError-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="99.2188" id="server.RouterParsingError" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="963.5" y="873"/>
    <ellipse cx="986.15" cy="889" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M985.3844,889.5625 Q983.525,888.8594 982.8766,888.0859 Q982.2281,887.3125 982.2281,886 Q982.2281,884.3125 983.3063,883.3438 Q984.3844,882.375 986.2594,882.375 Q987.1188,882.375 987.9703,882.5703 Q988.8219,882.7656 989.6656,883.1563 L989.6656,885.5469 Q988.8844,884.9844 988.0641,884.6953 Q987.2438,884.4063 986.4469,884.4063 Q985.5719,884.4063 985.0953,884.7656 Q984.6188,885.125 984.6188,885.7813 Q984.6188,886.2969 984.9625,886.6328 Q985.3063,886.9688 986.4,887.375 L987.4625,887.7813 Q988.9469,888.3281 989.6578,889.2344 Q990.3688,890.1406 990.3688,891.5156 Q990.3688,893.3906 989.2594,894.3125 Q988.15,895.2344 985.9,895.2344 Q984.9781,895.2344 984.0563,895.0156 Q983.1344,894.7969 982.275,894.375 L982.275,891.8438 Q983.2438,892.5313 984.1656,892.875 Q985.0875,893.2188 985.9781,893.2188 Q986.8844,893.2188 987.3844,892.8047 Q987.8844,892.3906 987.8844,891.6563 Q987.8844,891.0938 987.5484,890.6797 Q987.2125,890.2656 986.5875,890.0156 L985.3844,889.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="114" x="1001.85" y="893.1543">RouterParsingError</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="964.5" x2="1125.5" y1="905" y2="905"/>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="971.5" y="913"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="983.5" y="919.2104">paramName string</text>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="971.5" y="925.8047"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="983.5" y="932.0151">paramValue</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1056.5" y="932.0151">interface</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1106.5" y="932.0151">{}</text>
    <rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="971.5" y="938.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="983.5" y="944.8198">errString string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="964.5" x2="1125.5" y1="951.4141" y2="951.4141"/>
    <ellipse cx="974.5" cy="962.4141" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="983.5" y="965.6245">Error() string</text>
    <!--MD5=[aa7ea66f7b30fd6edbd0f31147dd3613]
class server.RequestModifier-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="server.RequestModifier" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="193" y="547.5"/>
    <ellipse cx="208" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M209.3438,570 L206.8906,570 L206.8906,559.75 L203.75,559.75 L203.75,557.6094 L212.4844,557.6094 L212.4844,559.75 L209.3438,559.75 L209.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="222" y="567.6543">RequestModifier</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="194" x2="320" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="194" x2="320" y1="587.5" y2="587.5"/>
    <!--MD5=[269eb303828ecdd20c07ba42ccc65519]
class server.ResponseModifier-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="server.ResponseModifier" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="22" y="547.5"/>
    <ellipse cx="37" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M38.3438,570 L35.8906,570 L35.8906,559.75 L32.75,559.75 L32.75,557.6094 L41.4844,557.6094 L41.4844,559.75 L38.3438,559.75 L38.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="51" y="567.6543">ResponseModifier</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="157" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="157" y1="587.5" y2="587.5"/>
    <!--MD5=[c0ed75a0d4a8e874425c37490c8fef25]
class server.fontcolorbluefuncfonthttpRequesthttpRequesterror-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="server.fontcolorbluefuncfonthttpRequesthttpRequesterror" style="stroke: #A80036; stroke-width: 1.5;" width="290" x="363" y="132.5"/>
    <ellipse cx="378" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M380.9688,154.1406 Q380.3906,154.4375 379.75,154.5859 Q379.1094,154.7344 378.4063,154.7344 Q375.9063,154.7344 374.5859,153.0859 Q373.2656,151.4375 373.2656,148.3125 Q373.2656,145.1875 374.5859,143.5313 Q375.9063,141.875 378.4063,141.875 Q379.1094,141.875 379.7578,142.0313 Q380.4063,142.1875 380.9688,142.4844 L380.9688,145.2031 Q380.3438,144.625 379.75,144.3516 Q379.1563,144.0781 378.5313,144.0781 Q377.1875,144.0781 376.5,145.1484 Q375.8125,146.2188 375.8125,148.3125 Q375.8125,150.4063 376.5,151.4766 Q377.1875,152.5469 378.5313,152.5469 Q379.1563,152.5469 379.75,152.2734 Q380.3438,152 380.9688,151.4219 L380.9688,154.1406 Z "/>
    <text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="392" y="152.6543">func</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="231" x="419" y="152.6543">(*http.Request) (*http.Request, error)</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="652" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="364" x2="652" y1="172.5" y2="172.5"/>
    <!--MD5=[17bac993098e8ac5de7ac16d0a1b08d7]
class server.fontcolorbluefuncfonthttpResponsehttpResponseerror-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="server.fontcolorbluefuncfonthttpResponsehttpResponseerror" style="stroke: #A80036; stroke-width: 1.5;" width="306" x="22" y="132.5"/>
    <ellipse cx="37" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M39.9688,154.1406 Q39.3906,154.4375 38.75,154.5859 Q38.1094,154.7344 37.4063,154.7344 Q34.9063,154.7344 33.5859,153.0859 Q32.2656,151.4375 32.2656,148.3125 Q32.2656,145.1875 33.5859,143.5313 Q34.9063,141.875 37.4063,141.875 Q38.1094,141.875 38.7578,142.0313 Q39.4063,142.1875 39.9688,142.4844 L39.9688,145.2031 Q39.3438,144.625 38.75,144.3516 Q38.1563,144.0781 37.5313,144.0781 Q36.1875,144.0781 35.5,145.1484 Q34.8125,146.2188 34.8125,148.3125 Q34.8125,150.4063 35.5,151.4766 Q36.1875,152.5469 37.5313,152.5469 Q38.1563,152.5469 38.75,152.2734 Q39.3438,152 39.9688,151.4219 L39.9688,154.1406 Z "/>
    <text fill="#0000FF" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="27" x="51" y="152.6543">func</text>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="247" x="78" y="152.6543">(*http.Response) (*http.Response, error)</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="327" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="23" x2="327" y1="172.5" y2="172.5"/>
    <!--MD5=[9e4e25e7f48abff81bc54c2fa009faa8]
class services.Configuration-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="86.4141" id="services.Configuration" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="3287.5" y="113.5"/>
    <ellipse cx="3349.25" cy="129.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3348.4844,130.0625 Q3346.625,129.3594 3345.9766,128.5859 Q3345.3281,127.8125 3345.3281,126.5 Q3345.3281,124.8125 3346.4063,123.8438 Q3347.4844,122.875 3349.3594,122.875 Q3350.2188,122.875 3351.0703,123.0703 Q3351.9219,123.2656 3352.7656,123.6563 L3352.7656,126.0469 Q3351.9844,125.4844 3351.1641,125.1953 Q3350.3438,124.9063 3349.5469,124.9063 Q3348.6719,124.9063 3348.1953,125.2656 Q3347.7188,125.625 3347.7188,126.2813 Q3347.7188,126.7969 3348.0625,127.1328 Q3348.4063,127.4688 3349.5,127.875 L3350.5625,128.2813 Q3352.0469,128.8281 3352.7578,129.7344 Q3353.4688,130.6406 3353.4688,132.0156 Q3353.4688,133.8906 3352.3594,134.8125 Q3351.25,135.7344 3349,135.7344 Q3348.0781,135.7344 3347.1563,135.5156 Q3346.2344,135.2969 3345.375,134.875 L3345.375,132.3438 Q3346.3438,133.0313 3347.2656,133.375 Q3348.1875,133.7188 3349.0781,133.7188 Q3349.9844,133.7188 3350.4844,133.3047 Q3350.9844,132.8906 3350.9844,132.1563 Q3350.9844,131.5938 3350.6484,131.1797 Q3350.3125,130.7656 3349.6875,130.5156 L3348.4844,130.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="3369.75" y="133.6543">Configuration</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3288.5" x2="3499.5" y1="145.5" y2="145.5"/>
    <ellipse cx="3298.5" cy="156.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="177" x="3307.5" y="159.7104">AggregatorBaseEndpoint string</text>
    <ellipse cx="3298.5" cy="169.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="157" x="3307.5" y="172.5151">ContentBaseEndpoint string</text>
    <ellipse cx="3298.5" cy="182.1094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="3307.5" y="185.3198">GroupsPollingTime time.Duration</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3288.5" x2="3499.5" y1="191.9141" y2="191.9141"/>
    <!--MD5=[e7ee48562d792edecfbc9fabc9281883]
class types.RuleWithContentResponse-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="227.2656" id="types.RuleWithContentResponse" style="stroke: #A80036; stroke-width: 1.5;" width="191" x="4487.5" y="43"/>
    <ellipse cx="4502.5" cy="59" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M4501.7344,59.5625 Q4499.875,58.8594 4499.2266,58.0859 Q4498.5781,57.3125 4498.5781,56 Q4498.5781,54.3125 4499.6563,53.3438 Q4500.7344,52.375 4502.6094,52.375 Q4503.4688,52.375 4504.3203,52.5703 Q4505.1719,52.7656 4506.0156,53.1563 L4506.0156,55.5469 Q4505.2344,54.9844 4504.4141,54.6953 Q4503.5938,54.4063 4502.7969,54.4063 Q4501.9219,54.4063 4501.4453,54.7656 Q4500.9688,55.125 4500.9688,55.7813 Q4500.9688,56.2969 4501.3125,56.6328 Q4501.6563,56.9688 4502.75,57.375 L4503.8125,57.7813 Q4505.2969,58.3281 4506.0078,59.2344 Q4506.7188,60.1406 4506.7188,61.5156 Q4506.7188,63.3906 4505.6094,64.3125 Q4504.5,65.2344 4502.25,65.2344 Q4501.3281,65.2344 4500.4063,65.0156 Q4499.4844,64.7969 4498.625,64.375 L4498.625,61.8438 Q4499.5938,62.5313 4500.5156,62.875 Q4501.4375,63.2188 4502.3281,63.2188 Q4503.2344,63.2188 4503.7344,62.8047 Q4504.2344,62.3906 4504.2344,61.6563 Q4504.2344,61.0938 4503.8984,60.6797 Q4503.5625,60.2656 4502.9375,60.0156 L4501.7344,59.5625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="159" x="4516.5" y="63.1543">RuleWithContentResponse</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4488.5" x2="4677.5" y1="75" y2="75"/>
    <ellipse cx="4498.5" cy="86" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="4507.5" y="89.2104">RuleID types.RuleID</text>
    <ellipse cx="4498.5" cy="98.8047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="4507.5" y="102.0151">ErrorKey types.ErrorKey</text>
    <ellipse cx="4498.5" cy="111.6094" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="4507.5" y="114.8198">CreatedAt string</text>
    <ellipse cx="4498.5" cy="124.4141" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="99" x="4507.5" y="127.6245">Description string</text>
    <ellipse cx="4498.5" cy="137.2188" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="80" x="4507.5" y="140.4292">Generic string</text>
    <ellipse cx="4498.5" cy="150.0234" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="4507.5" y="153.2339">Reason string</text>
    <ellipse cx="4498.5" cy="162.8281" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="4507.5" y="166.0386">Resolution string</text>
    <ellipse cx="4498.5" cy="175.6328" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="4507.5" y="178.8433">TotalRisk int</text>
    <ellipse cx="4498.5" cy="188.4375" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="4507.5" y="191.6479">RiskOfChange int</text>
    <ellipse cx="4498.5" cy="201.2422" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="4507.5" y="204.4526">Disabled bool</text>
    <ellipse cx="4498.5" cy="214.0469" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="4507.5" y="217.2573">Internal bool</text>
    <ellipse cx="4498.5" cy="226.8516" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="4507.5" y="230.062">UserVote types.UserVote</text>
    <ellipse cx="4498.5" cy="239.6563" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="79" x="4507.5" y="242.8667">TemplateData</text>
    <text fill="#0000FF" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="4590.5" y="242.8667">interface</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="4640.5" y="242.8667">{}</text>
    <ellipse cx="4498.5" cy="252.4609" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="4507.5" y="255.6714">Tags []string</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4488.5" x2="4677.5" y1="262.2656" y2="262.2656"/>
    <!--MD5=[14798620d2813c576ce3824146df656a]
class types.SmartProxyReport-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="73.6094" id="types.SmartProxyReport" style="stroke: #A80036; stroke-width: 1.5;" width="213" x="4239.5" y="119.5"/>
    <ellipse cx="4286.75" cy="135.5" fill="#7FFFD4" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M4285.9844,136.0625 Q4284.125,135.3594 4283.4766,134.5859 Q4282.8281,133.8125 4282.8281,132.5 Q4282.8281,130.8125 4283.9063,129.8438 Q4284.9844,128.875 4286.8594,128.875 Q4287.7188,128.875 4288.5703,129.0703 Q4289.4219,129.2656 4290.2656,129.6563 L4290.2656,132.0469 Q4289.4844,131.4844 4288.6641,131.1953 Q4287.8438,130.9063 4287.0469,130.9063 Q4286.1719,130.9063 4285.6953,131.2656 Q4285.2188,131.625 4285.2188,132.2813 Q4285.2188,132.7969 4285.5625,133.1328 Q4285.9063,133.4688 4287,133.875 L4288.0625,134.2813 Q4289.5469,134.8281 4290.2578,135.7344 Q4290.9688,136.6406 4290.9688,138.0156 Q4290.9688,139.8906 4289.8594,140.8125 Q4288.75,141.7344 4286.5,141.7344 Q4285.5781,141.7344 4284.6563,141.5156 Q4283.7344,141.2969 4282.875,140.875 L4282.875,138.3438 Q4283.8438,139.0313 4284.7656,139.375 Q4285.6875,139.7188 4286.5781,139.7188 Q4287.4844,139.7188 4287.9844,139.3047 Q4288.4844,138.8906 4288.4844,138.1563 Q4288.4844,137.5938 4288.1484,137.1797 Q4287.8125,136.7656 4287.1875,136.5156 L4285.9844,136.0625 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="110" x="4307.25" y="139.6543">SmartProxyReport</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4240.5" x2="4451.5" y1="151.5" y2="151.5"/>
    <ellipse cx="4250.5" cy="162.5" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="4259.5" y="165.7104">Meta types.ReportResponseMeta</text>
    <ellipse cx="4250.5" cy="175.3047" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="187" x="4259.5" y="178.5151">Data []RuleWithContentResponse</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4240.5" x2="4451.5" y1="185.1094" y2="185.1094"/>
    <!--MD5=[38da9dc8068c6d5d4fca1a71cdb9c352]
class types.ReportResponseMeta-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.ReportResponseMeta" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="3884" y="547.5"/>
    <ellipse cx="3899" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3900.3438,570 L3897.8906,570 L3897.8906,559.75 L3894.75,559.75 L3894.75,557.6094 L3903.4844,557.6094 L3903.4844,559.75 L3900.3438,559.75 L3900.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="126" x="3913" y="567.6543">ReportResponseMeta</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3885" x2="4041" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3885" x2="4041" y1="587.5" y2="587.5"/>
    <!--MD5=[710acf4fbfb4df95e6512cccd93e5c3d]
class types.Timestamp-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.Timestamp" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="3712.5" y="547.5"/>
    <ellipse cx="3727.5" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3728.8438,570 L3726.3906,570 L3726.3906,559.75 L3723.25,559.75 L3723.25,557.6094 L3731.9844,557.6094 L3731.9844,559.75 L3728.8438,559.75 L3728.8438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="3741.5" y="567.6543">Timestamp</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3713.5" x2="3810.5" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3713.5" x2="3810.5" y1="587.5" y2="587.5"/>
    <!--MD5=[a192e9acf6cc656795e2084db4fdea94]
class types.UserID-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.UserID" style="stroke: #A80036; stroke-width: 1.5;" width="72" x="4114" y="547.5"/>
    <ellipse cx="4129" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M4130.3438,570 L4127.8906,570 L4127.8906,559.75 L4124.75,559.75 L4124.75,557.6094 L4133.4844,557.6094 L4133.4844,559.75 L4130.3438,559.75 L4130.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="40" x="4143" y="567.6543">UserID</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4115" x2="4185" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4115" x2="4185" y1="587.5" y2="587.5"/>
    <!--MD5=[63d4010492b44f815c64b662970fac5a]
class types.UserVote-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.UserVote" style="stroke: #A80036; stroke-width: 1.5;" width="86" x="3554" y="547.5"/>
    <ellipse cx="3569" cy="563.5" fill="#FF7700" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3570.3438,570 L3567.8906,570 L3567.8906,559.75 L3564.75,559.75 L3564.75,557.6094 L3573.4844,557.6094 L3573.4844,559.75 L3570.3438,559.75 L3570.3438,570 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="54" x="3583" y="567.6543">UserVote</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3555" x2="3639" y1="579.5" y2="579.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3555" x2="3639" y1="587.5" y2="587.5"/>
    <!--MD5=[106f426d5d175682fab09705ac66cfdb]
class types.typesUserID-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.typesUserID" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="4095.5" y="132.5"/>
    <ellipse cx="4110.5" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M4113.4688,154.1406 Q4112.8906,154.4375 4112.25,154.5859 Q4111.6094,154.7344 4110.9063,154.7344 Q4108.4063,154.7344 4107.0859,153.0859 Q4105.7656,151.4375 4105.7656,148.3125 Q4105.7656,145.1875 4107.0859,143.5313 Q4108.4063,141.875 4110.9063,141.875 Q4111.6094,141.875 4112.2578,142.0313 Q4112.9063,142.1875 4113.4688,142.4844 L4113.4688,145.2031 Q4112.8438,144.625 4112.25,144.3516 Q4111.6563,144.0781 4111.0313,144.0781 Q4109.6875,144.0781 4109,145.1484 Q4108.3125,146.2188 4108.3125,148.3125 Q4108.3125,150.4063 4109,151.4766 Q4109.6875,152.5469 4111.0313,152.5469 Q4111.6563,152.5469 4112.25,152.2734 Q4112.8438,152 4113.4688,151.4219 L4113.4688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="4124.5" y="152.6543">types.UserID</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4096.5" x2="4203.5" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="4096.5" x2="4203.5" y1="172.5" y2="172.5"/>
    <!--MD5=[02c49d52c6939bd3052ad9325079b0a3]
class types.typesReportResponseMeta-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.typesReportResponseMeta" style="stroke: #A80036; stroke-width: 1.5;" width="195" x="3865.5" y="132.5"/>
    <ellipse cx="3880.5" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3883.4688,154.1406 Q3882.8906,154.4375 3882.25,154.5859 Q3881.6094,154.7344 3880.9063,154.7344 Q3878.4063,154.7344 3877.0859,153.0859 Q3875.7656,151.4375 3875.7656,148.3125 Q3875.7656,145.1875 3877.0859,143.5313 Q3878.4063,141.875 3880.9063,141.875 Q3881.6094,141.875 3882.2578,142.0313 Q3882.9063,142.1875 3883.4688,142.4844 L3883.4688,145.2031 Q3882.8438,144.625 3882.25,144.3516 Q3881.6563,144.0781 3881.0313,144.0781 Q3879.6875,144.0781 3879,145.1484 Q3878.3125,146.2188 3878.3125,148.3125 Q3878.3125,150.4063 3879,151.4766 Q3879.6875,152.5469 3881.0313,152.5469 Q3881.6563,152.5469 3882.25,152.2734 Q3882.8438,152 3883.4688,151.4219 L3883.4688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="163" x="3894.5" y="152.6543">types.ReportResponseMeta</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3866.5" x2="4059.5" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3866.5" x2="4059.5" y1="172.5" y2="172.5"/>
    <!--MD5=[bf55f6c6fda9b122bd8a5b520c4635f1]
class types.typesTimestamp-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.typesTimestamp" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="3694" y="132.5"/>
    <ellipse cx="3709" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3711.9688,154.1406 Q3711.3906,154.4375 3710.75,154.5859 Q3710.1094,154.7344 3709.4063,154.7344 Q3706.9063,154.7344 3705.5859,153.0859 Q3704.2656,151.4375 3704.2656,148.3125 Q3704.2656,145.1875 3705.5859,143.5313 Q3706.9063,141.875 3709.4063,141.875 Q3710.1094,141.875 3710.7578,142.0313 Q3711.4063,142.1875 3711.9688,142.4844 L3711.9688,145.2031 Q3711.3438,144.625 3710.75,144.3516 Q3710.1563,144.0781 3709.5313,144.0781 Q3708.1875,144.0781 3707.5,145.1484 Q3706.8125,146.2188 3706.8125,148.3125 Q3706.8125,150.4063 3707.5,151.4766 Q3708.1875,152.5469 3709.5313,152.5469 Q3710.1563,152.5469 3710.75,152.2734 Q3711.3438,152 3711.9688,151.4219 L3711.9688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="3723" y="152.6543">types.Timestamp</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3695" x2="3829" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3695" x2="3829" y1="172.5" y2="172.5"/>
    <!--MD5=[f974eec382719c070435877fba10c128]
class types.typesUserVote-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="types.typesUserVote" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="3535.5" y="132.5"/>
    <ellipse cx="3550.5" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3553.4688,154.1406 Q3552.8906,154.4375 3552.25,154.5859 Q3551.6094,154.7344 3550.9063,154.7344 Q3548.4063,154.7344 3547.0859,153.0859 Q3545.7656,151.4375 3545.7656,148.3125 Q3545.7656,145.1875 3547.0859,143.5313 Q3548.4063,141.875 3550.9063,141.875 Q3551.6094,141.875 3552.2578,142.0313 Q3552.9063,142.1875 3553.4688,142.4844 L3553.4688,145.2031 Q3552.8438,144.625 3552.25,144.3516 Q3551.6563,144.0781 3551.0313,144.0781 Q3549.6875,144.0781 3549,145.1484 Q3548.3125,146.2188 3548.3125,148.3125 Q3548.3125,150.4063 3549,151.4766 Q3549.6875,152.5469 3551.0313,152.5469 Q3551.6563,152.5469 3552.25,152.2734 Q3552.8438,152 3553.4688,151.4219 L3553.4688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="3564.5" y="152.6543">types.UserVote</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3536.5" x2="3657.5" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3536.5" x2="3657.5" y1="172.5" y2="172.5"/>
    <!--MD5=[2236f6c5d9deadb4f6bceeb4cf3ac6c7]
class __builtin__.int-->
    <rect fill="#FEFECE" filter="url(#fx1xlb9i11cmk)" height="48" id="__builtin__.int" style="stroke: #A80036; stroke-width: 1.5;" width="48" x="3204" y="132.5"/>
    <ellipse cx="3219" cy="148.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/>
    <path d="M3221.9688,154.1406 Q3221.3906,154.4375 3220.75,154.5859 Q3220.1094,154.7344 3219.4063,154.7344 Q3216.9063,154.7344 3215.5859,153.0859 Q3214.2656,151.4375 3214.2656,148.3125 Q3214.2656,145.1875 3215.5859,143.5313 Q3216.9063,141.875 3219.4063,141.875 Q3220.1094,141.875 3220.7578,142.0313 Q3221.4063,142.1875 3221.9688,142.4844 L3221.9688,145.2031 Q3221.3438,144.625 3220.75,144.3516 Q3220.1563,144.0781 3219.5313,144.0781 Q3218.1875,144.0781 3217.5,145.1484 Q3216.8125,146.2188 3216.8125,148.3125 Q3216.8125,150.4063 3217.5,151.4766 Q3218.1875,152.5469 3219.5313,152.5469 Q3220.1563,152.5469 3220.75,152.2734 Q3221.3438,152 3221.9688,151.4219 L3221.9688,154.1406 Z "/>
    <text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="16" x="3233" y="152.6543">int</text>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3205" x2="3251" y1="164.5" y2="164.5"/>
    <line style="stroke: #A80036; stroke-width: 1.5;" x1="3205" x2="3251" y1="172.5" y2="172.5"/>
    <!--MD5=[207dd402800b3f7d7d4f7f156532abe2]
reverse link sync.RWMutex to content.RulesWithContentStorage-->
    <path d="M2478,194.0054 C2478,260.4889 2478,400.4233 2478,489.9804 " fill="none" id="sync.RWMutex&lt;-content.RulesWithContentStorage" style="stroke: #A80036; stroke-width: 1.0;"/>
    <polygon fill="#A80036" points="2478,180.6059,2474,186.6059,2478,192.6059,2482,186.6059,2478,180.6059" style="stroke: #A80036; stroke-width: 1.0;"/>
    <!--MD5=[dc4338875e5d6bf159c85b626743176c]
reverse link __builtin__.int to main.ExitCode-->
    <path d="M3228,186.001 C3228,264.183 3228,475.6121 3228,547.3275 " fill="none" id="__builtin__.int&lt;-main.ExitCode" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="3223" y="175.6059"/>
    <!--MD5=[1a62b0b720e2575fc9bfde96bbc4e008]
reverse link helpers.helpersAPIRequest to helpers.APIRequest-->
    <path d="M3087,186.001 C3087,264.183 3087,475.6121 3087,547.3275 " fill="none" id="helpers.helpersAPIRequest&lt;-helpers.APIRequest" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="3082" y="175.6059"/>
    <!--MD5=[6f4f7dde5daa77a67e70f4438f4c44c8]
reverse link helpers.helpersAPIResponse to helpers.APIResponse-->
    <path d="M2900,186.001 C2900,264.183 2900,475.6121 2900,547.3275 " fill="none" id="helpers.helpersAPIResponse&lt;-helpers.APIResponse" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="2895" y="175.6059"/>
    <!--MD5=[6acf92a7f6208f5e04abd4e8297404ac]
reverse link server.fontcolorbluefuncfonthttpRequesthttpRequesterror to server.RequestModifier-->
    <path d="M472.9284,183.9191 C434.7963,215.423 374.4382,270.4891 338,330 C293.6627,402.4117 270.2688,502.0496 261.343,547.3428 " fill="none" id="server.fontcolorbluefuncfonthttpRequesthttpRequesterror&lt;-server.RequestModifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="472.0059" y="175.5701"/>
    <!--MD5=[1fa4b3f5812669738748f2bb6fc0152b]
reverse link server.fontcolorbluefuncfonthttpResponsehttpResponseerror to server.ResponseModifier-->
    <path d="M169.0534,185.5335 C153.1178,263.3367 109.6691,475.4687 94.951,547.3275 " fill="none" id="server.fontcolorbluefuncfonthttpResponsehttpResponseerror&lt;-server.ResponseModifier" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="165.0626" y="175.6059"/>
    <!--MD5=[edc59b5d04406ee9f56dbf4ab172669e]
reverse link types.typesReportResponseMeta to types.ReportResponseMeta-->
    <path d="M3963,186.001 C3963,264.183 3963,475.6121 3963,547.3275 " fill="none" id="types.typesReportResponseMeta&lt;-types.ReportResponseMeta" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="3958" y="175.6059"/>
    <!--MD5=[39f39c6fa4acf8ba8279dff78fea9ebf]
reverse link types.typesTimestamp to types.Timestamp-->
    <path d="M3762,186.001 C3762,264.183 3762,475.6121 3762,547.3275 " fill="none" id="types.typesTimestamp&lt;-types.Timestamp" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="3757" y="175.6059"/>
    <!--MD5=[c2e5a8d16aaaf34b09d1dbdb7a0f9423]
reverse link types.typesUserID to types.UserID-->
    <path d="M4150,186.001 C4150,264.183 4150,475.6121 4150,547.3275 " fill="none" id="types.typesUserID&lt;-types.UserID" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="4145" y="175.6059"/>
    <!--MD5=[78049cbadc14e2d0561eb02f4236d064]
reverse link types.typesUserVote to types.UserVote-->
    <path d="M3597,186.001 C3597,264.183 3597,475.6121 3597,547.3275 " fill="none" id="types.typesUserVote&lt;-types.UserVote" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/>
    <rect fill="#FFFFFF" height="10" style="stroke: #A80036; stroke-width: 1.5;" width="10" x="3592" y="175.6059"/>
    <!--MD5=[627e16c076778f3d764380db9c8ab784]
link server.AggregatorServiceUnavailableError to server.AuthenticationError-->
    <!--MD5=[2a83ae878b908049850d5b93bae75a8e]
link server.AuthenticationError to server.Configuration-->
    <!--MD5=[c6905b86e70e7e02ea21ebfe736e567e]
link server.Configuration to server.ContentServiceUnavailableError-->
    <!--MD5=[fb47a0ca8fdaffaeb72d1a17da2ad518]
link server.AggregatorServiceUnavailableError to server.HTTPServer-->
    <!--MD5=[2d7ab0bc065fe3c0986321230550a434]
link server.HTTPServer to server.NoBodyError-->
    <!--MD5=[6f30c0e7560cb05c69ba1b18a1c3309b]
link server.NoBodyError to server.ParamsParsingError-->
    <!--MD5=[876418a5205c88ffa26a81931825d6c2]
link server.ParamsParsingError to server.ProxyOptions-->
    <!--MD5=[9d599ee8eac8985d7f23068d6467ba95]
link server.HTTPServer to server.RouterMissingParamError-->
    <!--MD5=[062b85ba9b7007f32ff59f8deecd548b]
link server.RouterMissingParamError to server.RouterParsingError-->
    <!--MD5=[f4220d042faafbdca4471f7a247d5509]
@startuml
namespace conf {
    class MetricsConfiguration << (S,Aquamarine) >> {
        + Namespace string

    }
    class SetupConfiguration << (S,Aquamarine) >> {
        + InternalRulesOrganizationsCSVFile string

    }
}


namespace content {
    class RulesWithContentStorage << (S,Aquamarine) >> {
        - rulesWithContent <font color=blue>map</font>[ruleIDAndErrorKey]*types.RuleWithContent
        - rules <font color=blue>map</font>[types.RuleID]*content.RuleContent

        + GetRuleWithErrorKeyContent(ruleID types.RuleID, errorKey types.ErrorKey) (*types.RuleWithContent, bool)
        + GetRuleContent(ruleID types.RuleID) (*content.RuleContent, bool)
        + GetAllContent() []content.RuleContent
        + SetRuleWithContent(ruleID types.RuleID, errorKey types.ErrorKey, ruleWithContent *types.RuleWithContent) 
        + SetRule(ruleID types.RuleID, ruleContent content.RuleContent) 
        + ResetContent() 
        + GetRuleIDs() []string

    }
    class ruleIDAndErrorKey << (S,Aquamarine) >> {
        + RuleID types.RuleID
        + ErrorKey types.ErrorKey

    }
}
"sync.RWMutex" *- - "content.RulesWithContentStorage"


namespace helpers {
    class helpers.APIRequest << (T, #FF7700) >>  {
    }
    class helpers.APIResponse << (T, #FF7700) >>  {
    }
    class "helpers.APIRequest" as helpersAPIRequest {
    }
    class "helpers.APIResponse" as helpersAPIResponse {
    }
}


namespace main {
    class main.ExitCode << (T, #FF7700) >>  {
    }
}


namespace server {
    class AggregatorServiceUnavailableError << (S,Aquamarine) >> {
        + Error() string

    }
    class AuthenticationError << (S,Aquamarine) >> {
        - errString string

        + Error() string

    }
    class Configuration << (S,Aquamarine) >> {
        + Address string
        + APIPrefix string
        + APISpecFile string
        + Debug bool
        + Auth bool
        + AuthType string
        + UseHTTPS bool
        + EnableCORS bool
        + EnableInternalRulesOrganizations bool
        + InternalRulesOrganizations []types.OrgID
        + LogAuthToken bool

    }
    class ContentServiceUnavailableError << (S,Aquamarine) >> {
        + Error() string

    }
    class HTTPServer << (S,Aquamarine) >> {
        + Config Configuration
        + ServicesConfig services.Configuration
        + GroupsChannel <font color=blue>chan</font> []groups.Group
        + Serv *http.Server

        - mainEndpoint(writer http.ResponseWriter, _ *http.Request) 
        - readUserID(request *http.Request, writer http.ResponseWriter) (types.UserID, error)
        - serveAPISpecFile(writer http.ResponseWriter, request *http.Request) 
        - redirectTo(baseURL string) <font color=blue>func</font>(http.ResponseWriter, *http.Request) 
        - proxyTo(baseURL string, options *ProxyOptions) <font color=blue>func</font>(http.ResponseWriter, *http.Request) 
        - sendRequest(client http.Client, req *http.Request, options *ProxyOptions, writer http.ResponseWriter) (*http.Response, []byte, bool)
        - composeEndpoint(baseEndpoint string, currentEndpoint string) (*url.URL, error)
        - readAggregatorReportForClusterID(orgID types.OrgID, clusterID types.ClusterName, userID types.UserID, writer http.ResponseWriter) (*types.ReportResponse, bool)
        - fetchAggregatorReport(writer http.ResponseWriter, request *http.Request) (*types.ReportResponse, bool)
        - reportEndpoint(writer http.ResponseWriter, request *http.Request) 
        - findRule(writer http.ResponseWriter, report []types.RuleOnReport, requestRuleID types.RuleID) (types.RuleWithContentResponse, bool)
        - singleRuleEndpoint(writer http.ResponseWriter, request *http.Request) 
        - checkInternalRulePermissions(request *http.Request) error
        - newExtractUserIDFromTokenToURLRequestModifier(newEndpoint string) RequestModifier
        - getAuthTokenHeader(w http.ResponseWriter, r *http.Request) (string, bool)
        - getGroups(writer http.ResponseWriter, _ *http.Request) 
        - getContentForRule(writer http.ResponseWriter, request *http.Request) 
        - getContent(writer http.ResponseWriter, request *http.Request) 
        - getClustersForOrg(writer http.ResponseWriter, request *http.Request) 
        - getRuleIDs(writer http.ResponseWriter, request *http.Request) 
        - addDebugEndpointsToRouter(router *mux.Router) 
        - addEndpointsToRouter(router *mux.Router) 
        - addContentEndpointsToRouter(router *mux.Router) 

        + Initialize() http.Handler
        + Start() error
        + Stop(ctx context.Context) error
        + Authentication(next http.Handler, noAuthURLs []string) http.Handler
        + GetCurrentUserID(request *http.Request) (types.UserID, error)
        + GetAuthToken(request *http.Request) (*types.Identity, error)

    }
    class NoBodyError << (S,Aquamarine) >> {
        + Error() string

    }
    class ParamsParsingError << (S,Aquamarine) >> {
        + Error() string

    }
    class ProxyOptions << (S,Aquamarine) >> {
        + RequestModifiers []RequestModifier
        + ResponseModifiers []ResponseModifier

    }
    class RouterMissingParamError << (S,Aquamarine) >> {
        - paramName string

        + Error() string

    }
    class RouterParsingError << (S,Aquamarine) >> {
        - paramName string
        - paramValue <font color=blue>interface</font>{}
        - errString string

        + Error() string

    }
    class server.RequestModifier << (T, #FF7700) >>  {
    }
    class server.ResponseModifier << (T, #FF7700) >>  {
    }
    class "<font color=blue>func</font>(*http.Request) (*http.Request, error)" as fontcolorbluefuncfonthttpRequesthttpRequesterror {
    }
    class "<font color=blue>func</font>(*http.Response) (*http.Response, error)" as fontcolorbluefuncfonthttpResponsehttpResponseerror {
    }
}


namespace services {
    class Configuration << (S,Aquamarine) >> {
        + AggregatorBaseEndpoint string
        + ContentBaseEndpoint string
        + GroupsPollingTime time.Duration

    }
}


namespace types {
    class RuleWithContentResponse << (S,Aquamarine) >> {
        + RuleID types.RuleID
        + ErrorKey types.ErrorKey
        + CreatedAt string
        + Description string
        + Generic string
        + Reason string
        + Resolution string
        + TotalRisk int
        + RiskOfChange int
        + Disabled bool
        + Internal bool
        + UserVote types.UserVote
        + TemplateData <font color=blue>interface</font>{}
        + Tags []string

    }
    class SmartProxyReport << (S,Aquamarine) >> {
        + Meta types.ReportResponseMeta
        + Data []RuleWithContentResponse

    }
    class types.ReportResponseMeta << (T, #FF7700) >>  {
    }
    class types.Timestamp << (T, #FF7700) >>  {
    }
    class types.UserID << (T, #FF7700) >>  {
    }
    class types.UserVote << (T, #FF7700) >>  {
    }
    class "types.UserID" as typesUserID {
    }
    class "types.ReportResponseMeta" as typesReportResponseMeta {
    }
    class "types.Timestamp" as typesTimestamp {
    }
    class "types.UserVote" as typesUserVote {
    }
}


"__builtin__.int" #.. "main.ExitCode"
"helpers.helpersAPIRequest" #.. "helpers.APIRequest"
"helpers.helpersAPIResponse" #.. "helpers.APIResponse"
"server.fontcolorbluefuncfonthttpRequesthttpRequesterror" #.. "server.RequestModifier"
"server.fontcolorbluefuncfonthttpResponsehttpResponseerror" #.. "server.ResponseModifier"
"types.typesReportResponseMeta" #.. "types.ReportResponseMeta"
"types.typesTimestamp" #.. "types.Timestamp"
"types.typesUserID" #.. "types.UserID"
"types.typesUserVote" #.. "types.UserVote"
@enduml

PlantUML version 1.2019.12(Sun Nov 03 11:24:54 CET 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_191-b12
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
-->
  </g>
</svg>
